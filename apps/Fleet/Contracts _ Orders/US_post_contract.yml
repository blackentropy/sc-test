id: US_post_contract
type: datasource
subtype: RESTQuery
resourceName: c80e43af-58c5-4f48-8b16-b74a91909aef
resourceDisplayName: Fleet-Contract-API-US
template:
  ordered:
    - queryRefreshTime: ''
    - paginationLimit: ''
    - body: >-
        [{"key":"type","value":"{{contractType.value}}"},{"key":"status","value":"{{contractStatus.value}}"},{"key":"{{!contractClosingDate.value
        ? \"\" :
        'closing_date'}}","value":"{{contractClosingDate.value}}"},{"key":"{{!contractNumber.value
        ? \"\" :
        'contract_number'}}","value":"{{contractNumber.value}}"},{"key":"deal_type","value":"{{contractDealType.value}}"},{"key":"supplier_type","value":"{{contractSupplierType.value}}"},{"key":"supplier","value":"{{contractSupplier.value}}"},{"key":"volume","value":"{{contractVolume.value}}"},{"key":"definition_1_month","value":"{{contractdefinition1month.value}}"},{"key":"{{!contractHoldingPeriodMinMonths.value
        ? \"\"
        :'holding_period_minimum_months'}}","value":"{{contractHoldingPeriodMinMonths.value}}"},{"key":"{{!contractHoldingPeriodMaxMonths.value
        ? \"\"
        :'holding_period_maximum_months'}}","value":"{{contractHoldingPeriodMaxMonths.value}}"},{"key":"{{!contractHoldingPeriodProlongationPossible.value
        ? \"\"
        :'holding_period_prolongation_possible'}}","value":"{{contractHoldingPeriodProlongationPossible.value}}"},{"key":"{{!contractHoldingPeriodProlongationDays.value
        ? \"\"
        :'holding_period_prolongation_days'}}","value":"{{contractHoldingPeriodProlongationDays.value}}"},{"key":"{{!contractHoldingPeriodProlongationTerms.value
        ? \"\"
        :'holding_period_prolongation_terms'}}","value":"{{contractHoldingPeriodProlongationTerms.value}}"},{"key":"{{!contractHoldingPeriodComment.value
        ? \"\"
        :'holding_period_comment'}}","value":"{{contractHoldingPeriodComment.value}}"},{"key":"{{!contractIncludedMileageMonth.value
        ? \"\"
        :'included_mileage_month'}}","value":"{{contractIncludedMileageMonth.value}}"},{"key":"{{!contractMileageIncludedComment.value
        ? \"\"
        :'mileage_included_comment'}}","value":"{{contractMileageIncludedComment.value}}"},{"key":"{{!contractHoldingPeriodTriggerStart.value
        ? \"\"
        :'holding_period_trigger_start'}}","value":"{{contractHoldingPeriodTriggerStart.value}}"},{"key":"{{!contractHoldingPeriodTriggerEnd.value
        ? \"\"
        :'holding_period_trigger_end'}}","value":"{{contractHoldingPeriodTriggerEnd.value}}"},{"key":"transfer_of_risk_trigger","value":"{{contractTransferOfRiskTrigger.value}}"},{"key":"{{!contractTransferOfRiskClause.value
        ? \"\"
        :'transfer_of_risk_clause'}}","value":"{{contractTransferOfRiskClause.value}}"},{"key":"{{!contractUnit.value
        ? \"\"
        :'unit'}}","value":"{{contractUnit.value}}"},{"key":"{{!contractAdditionalMileageCostPerKmMileNet.value
        ? \"\"
        :'additional_mileage_cost_per_km_mile_net'}}","value":"{{contractAdditionalMileageCostPerKmMileNet.value}}"},{"key":"{{!contractCallOffPeriodDays.value
        ? \"\"
        :'call_off_period_days'}}","value":"{{contractCallOffPeriodDays.value}}"},{"key":"{{!contractGracePeriodDays.value
        ? \"\"
        :'grace_period_days'}}","value":"{{contractGracePeriodDays.value}}"},{"key":"{{!contractGracePeriodTerms.value
        ? \"\"
        :'grace_period_terms'}}","value":"{{contractGracePeriodTerms.value}}"},{"key":"{{!contractDamageGracePeriodDays.value
        ? \"\"
        :'damage_grace_period_days'}}","value":"{{contractDamageGracePeriodDays.value}}"},{"key":"{{!contractPdiTrackingRequired.value
        ? \"\"
        :'pdi_tracking_required'}}","value":"{{contractPdiTrackingRequired.value}}"},{"key":"{{!contractDamageFlatAmount.value
        ? \"\"
        :'damage_flat_amount'}}","value":"{{contractDamageFlatAmount.value}}"},{"key":"{{!contractPossibleDefleetingCompounds.value
        ? \"\"
        :'possible_defleeting_compounds'}}","value":"{{contractPossibleDefleetingCompounds.value}}"},{"key":"{{!contractPaymentPeriodDays.value
        ? \"\"
        :'payment_period_days'}}","value":"{{contractPaymentPeriodDays.value}}"},{"key":"{{!contractPaymentTrigger.value
        ? \"\"
        :'payment_trigger'}}","value":"{{contractPaymentTrigger.value}}"},{"key":"{{!contractInvoicePeriodDays.value
        ? \"\"
        :'invoice_period_days'}}","value":"{{contractInvoicePeriodDays.value}}"},{"key":"{{!contractInvoiceTrigger.value
        ? \"\"
        :'invoice_trigger'}}","value":"{{contractInvoiceTrigger.value}}"},{"key":"{{!contractCreationDate.value
        ? \"\"
        :'creation_date'}}","value":"{{contractCreationDate.value}}"},{"key":"{{!contractPossibleInfleetingCompounds.value
        ? \"\"
        :'possibleInfleetingCompounds'}}","value":"{{contractPossibleInfleetingCompounds.value}}"}]
    - lastReceivedFromResourceAt: null
    - queryDisabledMessage: ''
    - successMessage: ''
    - queryDisabled: ''
    - playgroundQuerySaveId: latest
    - resourceNameOverride: ''
    - runWhenModelUpdates: false
    - paginationPaginationField: ''
    - headers: '[]'
    - showFailureToaster: true
    - paginationEnabled: false
    - query: contracts
    - playgroundQueryUuid: ''
    - playgroundQueryId: null
    - error: null
    - privateParams: []
    - runWhenPageLoadsDelay: ''
    - data: null
    - importedQueryInputs:
        ordered: []
    - isImported: false
    - showSuccessToaster: false
    - cacheKeyTtl: ''
    - cookies: ''
    - metadata: null
    - changesetObject: ''
    - errorTransformer: >-
        // The variable 'data' allows you to reference the request's data in the
        transformer. 

        // example: return data.find(element => element.isError)

        return data.error
    - confirmationMessage: null
    - isFetching: false
    - changeset: ''
    - rawData: null
    - queryTriggerDelay: '0'
    - resourceTypeOverride: ''
    - watchedParams: []
    - enableErrorTransformer: false
    - showLatestVersionUpdatedWarning: false
    - paginationDataField: ''
    - timestamp: 0
    - importedQueryDefaults:
        ordered: []
    - enableTransformer: false
    - showUpdateSetValueDynamicallyToggle: true
    - runWhenPageLoads: false
    - transformer: >-
        // type your code here

        // example: return formatDataAsArray(data).filter(row => row.quantity >
        20)

        return data
    - events:
        - ordered:
            - event: success
            - type: util
            - method: showNotification
            - pluginId: ''
            - targetId: null
            - params:
                ordered:
                  - options:
                      ordered:
                        - notificationType: success
                        - title: Contract was succesfully added!
                        - description: >-
                            contract_id:
                            {{DE_post_contract.data.data.contract_id}}
            - waitType: debounce
            - waitMs: '0'
        - ordered:
            - event: success
            - type: datasource
            - method: trigger
            - pluginId: DE_get_all_contracts
            - targetId: null
            - params:
                ordered: []
            - waitType: debounce
            - waitMs: '0'
        - ordered:
            - event: failure
            - type: util
            - method: showNotification
            - pluginId: ''
            - targetId: null
            - params:
                ordered:
                  - options:
                      ordered:
                        - notificationType: error
                        - title: Adding Contract failed!
                        - description: Please try again.
            - waitType: debounce
            - waitMs: '0'
    - queryTimeout: '10000'
    - requireConfirmation: false
    - type: POST
    - queryFailureConditions: ''
    - changesetIsObject: false
    - enableCaching: false
    - allowedGroups: []
    - bodyType: json
    - queryThrottleTime: '750'
    - updateSetValueDynamically: false
    - notificationDuration: ''
createdAt: 2022-12-08T14:58:48.479Z
folder: US_contracts
